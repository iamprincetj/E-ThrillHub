<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} {% endblock %}</title>
    <link rel="shortcut icon" href="../robot.png" type="image/x-icon">
    <link rel="shortcut icon" href="{{ url_for('static', filename='robot.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

    <ul id="main-ul">
        {% if user.is_authenticated %}
            <li><a href="/">E-ThrillHub</a></li>
            <li><a href="/news">News</a></li>
            <li><a href="/profile/{{ user.username }}">Profile</a></li>
            <li id="post">Post</li>
            <li><a href="/auth/logout">Logout</a></li>
        {% else %}
            <li><a href="/about">About</a></li>
            <li><a href="/auth/login">Login</a></li>
            <li><a href="/auth/signup">Create An Account</a></li>
        {% endif %}
    </ul>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ol>
                {% for cat, msg in messages %}
                    {% if cat == 'error' %}
                        <li id="error">
                            {{ msg }}
                        </li>
                    {% else %}
                        <li id="success">
                            {{ msg }}
                        </li>
                    {% endif %}
                {% endfor %}
            </ol>
        {% endif %}
    {% endwith %}

    <div id="post-div" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <form action="/makepost" method="POST" enctype="multipart/form-data">
                <textarea name="title" id="post-content" cols="30" rows="10" placeholder="What's popping?!" required="true"></textarea>
                <label for="linkpost" id="label-link">
                    <i class="fa fa-link" aria-hidden="true"></i>
                </label>
                <input type="url" name="linkpost" id="linkpost">
                <label for="imagepost" id="label-image">
                    <i class="fa fa-picture-o" aria-hidden="true"></i>
                </label>
                <input type="file" name="imagepost" id="imagepost">
                <label for="tags" id="label-tags">
                    <i class="fa fa-tag" aria-hidden="true"></i>
                </label>
                <input type="text" name="tags" id="tags">
                <div id="show-img">
                    <span class="close img-close">&times;</span>
                </div>
                <button type="submit">Post</button>
            </form>
        </div>
    </div>

    <div id="loading_modal">
        <div class="loading_modal-content">
            <div id="loading">
                <p> E-ThrillHubbb... </p>
            </div>
        </div>
    </div>

    <div>
        {% block content %} {% endblock %}
    </div>
    
</body>
    <script src="{{ url_for('static', filename='index.js') }}"></script>
    <script src="{{ url_for('static', filename='post.js') }}"></script>
    <script src="{{ url_for('static', filename='profile.js') }}"></script>
    <script src="{{ url_for('static', filename='editpost.js') }}"></script>
</html>